{"version":3,"sources":["webpack:///src/app/pages/driver/listdriver/listdriver-routing.module.ts","webpack:///src/app/pages/driver/listdriver/listdriver.component.html","webpack:///src/app/pages/driver/listdriver/listdriver.component.ts","webpack:///src/app/pages/driver/listdriver/listdriver.module.ts"],"names":["routes","path","component","ListdriverRoutingModule","forChild","imports","exports","ListdriverComponent","router","formBuilder","apiCall","common","translate","userLoginDetails","listDriversData","driverDataHeaderResponse","listDriversDataWithoutFilter","companyDriverStagingList","driverDataforLatter","selectedCompanyInfo","noData","selectedLang","totalListDriverData","currentPageNumber","tempCurrNumber","noRecordsFound","dtOptions","order","dtTrigger","collection","count","data","config","itemsPerPage","currentPage","totalItems","maxSize","directionLinks","autoHide","responsive","labels","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel","listDriverDetails","isDtInitialized","isSearchFunction","tempPageNo","body","document","getElementsByTagName","classList","remove","getValueFromSessionStorage","reactiveFormName","group","searchText","initMasterData","get","toPromise","language","getDriversList","getListCompanyDriverStagingList","onChangeOfCompany","showDriverVehicleAddBtn","spinner","hide","subscription","unsubscribe","getContent","subscribe","msg","show","mesage","jsonData","userLoginInfo","UserID","ID","CompanyID","Token","QueryCount","PageNumber","toString","postAPICallWithToken","then","result","headerResponse","totalCount","length","error","console","log","dtElement","dtInstance","destroy","next","isCompanyTypeFranchise","showDriverVehicleAddBtnFineValidation","showSussessFailureMessage","navigateByUrl","driver","setValueToSessionStorage","requestFrom","EmiratesID","MobileNumber","MobilePhone","DriverID","DriverGuid","navigate","window","open","event","onSearchClick","searchValue","value","trim","SearchWord","target","code","onPageChange","company","showAddCompanyBtn","showAddDriverBtn","showAddVehicleBtn","showDriverVehicleAddBtnPendingPaymentValidation","showDriverVehicleAddBtnLicenseNumberValidation","showDriverVehicleAddBtnCompanyExpireValidation","CompanyType","PendingFines","disableFineRestrictionAPIData","DisableFineRestrictionOutput","i","stdate","StartDate","split","reverse","join","eddate","EndDate","start","Date","end","today","setDate","getDate","setHours","disablefine","DisableFineRestriction","isfine","showLateFee","showDriverVehicleAddBtnPendingFineValidation","AddDriverBtn_fine","AddVehicleBtn_fine","PendingPayments","AddDriverBtn_pay","AddVehicleBtn_pay","LicenseNumber","AddDriverBtn_license","AddVehicleBtn_license","PermitExpiryDate","newdate","enddate","AddDriverBtn_company","AddVehicleBtn_company","onKeypressEvent","selector","templateUrl","styleUrls","ListdriverModule","declarations"],"mappings":"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","file":"pages-driver-listdriver-listdriver-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ListdriverComponent } from './listdriver.component';\n\nconst routes: Routes = [{ path: '', component: ListdriverComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ListdriverRoutingModule { }\n","<app-globalheader></app-globalheader>\r\n<!-- Page wrapper  -->\r\n<!-- ============================================================== -->\r\n<div class=\"page-wrapper\" dir=\"{{common.textAlignment}}\">\r\n  <!-- ============================================================== -->\r\n  <!-- Container fluid  -->\r\n  <!-- ============================================================== -->\r\n  <div class=\"container-fluid\">\r\n    <nav aria-label=\"breadcrumb\">\r\n      <ol class=\"breadcrumb cus_bdm_cls\">\r\n        <li class=\"breadcrumb-item\"><a [routerLink]=\"['/company/listcompany']\">{{ 'Home' | translate }}</a></li>\r\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ 'Driver' | translate }}</li>\r\n      </ol>\r\n    </nav>\r\n    <div class=\"row\">\r\n      <div class=\"col-12 d-flex action_box py-3\">\r\n        <div class=\"d-flex align-items-center action_box-first\">\r\n        </div>\r\n        <div *ngIf=\"!common.showAddDriverBtn\">\r\n          <button class=\"btn theme-blue-btn add_company_xs\" (click)=\"navigateToAddDrivers()\">\r\n            <img src=\"/assets/images/company-page/add.svg\" alt=\"\" class=\"theme-blue-btn-img\">\r\n            <span>{{ 'AddDriver' | translate }}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 d-flex align-items-center justify-content-space-between pb-3 filter_action_row search_icon_blk\" >\r\n        <div class=\"input-wrapper input-wrapper-company-card \">\r\n          <form [formGroup]=\"reactiveFormName\">\r\n            <input type=\"text\" formControlName=\"searchText\" (keyup)=\"onKeypressEvent($event)\"\r\n                   placeholder=\"{{ 'Search' | translate }}\" class=\"pi-form-inputs\">\r\n            <em class=\"fas fa-search text-777\" (click)=\"onSearchClick()\"></em>\r\n\r\n          </form>\r\n          <em class=\"fas fa-search text-777\" (click)=\"onSearchClick()\"></em>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div *ngIf=\"common.mesage.showMessage\" [class]=\"common.mesage.class\">\r\n          <strong>{{common.mesage.mesage}}</strong>\r\n          <span class=\"close\" (click)=\"common.mesage.showMessage=!common.mesage.showMessage\">&times;</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\" *ngFor=\"let ldd of listDriversData | paginate: config\">\r\n        <div class=\"main_card\">\r\n          <div class=\"company_advertisement_upperdiv\">\r\n            <div class=\"company_logo\">\r\n            </div>\r\n            <div class=\"details_right\">\r\n              <div class=\"heading\">\r\n                <span class=\"company_name\">{{ldd.FirstName}} {{ldd.LastName}} </span>\r\n                <span class=\"icon_btn_wrapper\" *ngIf=\"!ldd.PendingPayments\" (click)=\"printDriverData(ldd)\">\r\n                  <button class=\"icon_btn\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\"\r\n                          data-original-title=\"Display\">\r\n                    <img class=\"icon_btn_printer\" alt=\"\"\r\n                         src=\"/assets/images/company-page/printer.svg\">\r\n                  </button>\r\n                </span>\r\n              </div>\r\n              <div class=\"mt-2 mb-3\">\r\n                <span class=\"font-weight-bold fs--14\">  </span>\r\n                <div class=\"permit_row\">\r\n                  <div class=\"subheading_wrapper\">\r\n                    <div class=\"text-777 fs--13 \">{{ 'LicenseType' | translate }}</div>\r\n                    <div class=\"subheading\">{{ldd.DriverType}} </div>\r\n                  </div>\r\n                  <div class=\"subheading_wrapper\">\r\n                    <div class=\"text-777 fs--13 \" *ngIf=\"ldd.Status === 'Active'\">{{ 'ExpiryDate' | translate }}</div>\r\n                    <div class=\"text-777 fs--13 \" style=\"color: red\" *ngIf=\"ldd.Status === 'Expired'\">{{ 'ExpiryDate' | translate }}</div>\r\n                    <div class=\"subheading\" *ngIf=\"ldd.Status === 'Active'\">{{ldd.PermitExpiryDate}}</div>\r\n                    <div class=\"subheading\" style=\"color: red\" *ngIf=\"ldd.Status === 'Expired'\">{{ldd.PermitExpiryDate}}</div>\r\n                  </div>\r\n                  <div class=\"subheading_wrapper\">\r\n                    <div class=\"text-777 fs--13 \">{{ 'Fees' | translate }}</div>\r\n                    <div class=\"subheading\">{{ldd.Fees}}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"d-flex company_advertisement_bottomdiv align-items-center pt-1 pb-3 justify-content-space-between px-3\">\r\n            <div class=\"\">\r\n              <p class=\"mb-0\">\r\n                <span class=\"cstm-badges bg-blue text-white\">{{ldd.Status}}</span>\r\n                <span *ngIf=\"ldd.PendingRenewalsAvailable\" class=\"cstm-badges bg-warning text-white\">{{ 'RenewalsPending' | translate }}</span>\r\n                <span *ngIf=\"ldd.PendingPayments\" class=\"cstm-badges  bg-info text-white\">{{ 'PaymentPending' | translate }}</span>\r\n                <span *ngIf=\"!ldd.PendingPayments\" class=\"cstm-badges bg-success text-white\"> {{ 'Approved' | translate }}</span>\r\n              </p>\r\n            </div>\r\n            <div class=\"button_action_wrapper\">\r\n              <button class=\"btn cstm-badges sm-small-btn\"  (click)=\"navigateToDriverViewPage(ldd)\">\r\n                {{ldd.DriverID}}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-12 p-0\" *ngIf=\"noData\">\r\n        <div class=\"main_card no_record_found\">\r\n          <span>{{ 'NoRecordFound' | translate }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"!noData\">\r\n      <pagination-controls [maxSize]=\"maxSize\"\r\n                           [directionLinks]=\"directionLinks\"\r\n                           [autoHide]=\"autoHide\"\r\n                           [responsive]=\"responsive\"\r\n                           [previousLabel]=\"labels.previousLabel\"\r\n                           [nextLabel]=\"labels.nextLabel\"\r\n                           [screenReaderPaginationLabel]=\"labels.screenReaderPaginationLabel\"\r\n                           [screenReaderPageLabel]=\"labels.screenReaderPageLabel\"\r\n                           [screenReaderCurrentLabel]=\"labels.screenReaderCurrentLabel\"\r\n                           (pageChange)=\"onPageChange($event)\"></pagination-controls>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-12 p-0\">\r\n        <h4>{{ 'UnApprovedDriverList' | translate }}</h4>\r\n      </div>\r\n      <div class=\"col-12 card add_company_tab_card\" [class.hidetable]=\"noRecordsFound\">\r\n        <div class=\"table-responsive\">\r\n          <table datatable [dtOptions]=\"dtOptions\" [dtTrigger]=\"dtTrigger\" class=\"mytable\">\r\n            <thead>\r\n              <tr>\r\n                <th>{{ 'DriverID' | translate }}</th>\r\n                <th>{{ 'DriverName' | translate }}</th>\r\n                <th>{{ 'Gender' | translate }}</th>\r\n                <th>{{ 'LicenseType' | translate }}</th>\r\n                <th>{{ 'ExpiryDate' | translate }}</th>\r\n                <th>{{ 'Status' | translate }}</th>\r\n                <th>{{ 'Comments' | translate }}</th>\r\n                <th>{{ 'Action' | translate }}</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let driver of companyDriverStagingList;\">\r\n                <td>{{driver.DriverID}}</td>\r\n                <td>{{driver.FirstName}}</td>\r\n                <td>{{driver.Gender}}</td>\r\n                <td>{{driver.DriverType}}</td>\r\n                <td>{{driver.DrivingLicenseExpiryDate}}</td>\r\n                <td>{{driver.Status}}</td>\r\n                <td>{{driver.Comments}}</td>\r\n                <td *ngIf=\"driver.Status === 'Under Approval'\" class=\"cursor_pointer\"> </td>\r\n                <td *ngIf=\"driver.Status === 'Need More Information'\" (click)=\"navigateToUpdatePage(driver)\" class=\"cursor_pointer\"> <a>{{ 'Edit' | translate }}</a></td>\r\n                <td *ngIf=\"driver.Status === 'Approved'\" class=\"cursor_pointer\"> </td>\r\n                <td *ngIf=\"driver.Status === 'Rejected'\" class=\"cursor_pointer\"> </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 card add_company_tab_card\" *ngIf=\"noRecordsFound\">\r\n        <div class=\"col-md-12 p-0\">\r\n          <div class=\"main_card no_record_found\">\r\n            <span>{{ 'NoRecordFound' | translate }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<app-globalfooter></app-globalfooter>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ApiService } from '../../../services/api.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { CommonService } from '../../../services/common.service';\r\nimport { Subscription, Subject } from 'rxjs';\r\nimport { FormGroup, FormBuilder } from '@angular/forms';\r\nimport { DataTableDirective } from 'angular-datatables';\r\n@Component({\r\n  selector: 'app-listdriver',\r\n  templateUrl: './listdriver.component.html',\r\n  styleUrls: ['./listdriver.component.scss']\r\n})\r\nexport class ListdriverComponent implements OnInit {\r\n\r\n  @ViewChild(DataTableDirective) dtElement: DataTableDirective;\r\n\r\n  reactiveFormName: FormGroup;\r\n\r\n  userLoginDetails: any = [];\r\n  listDriversData: any = [];\r\n  driverDataHeaderResponse: any = [];\r\n  listDriversDataWithoutFilter: any = [];\r\n  companyDriverStagingList: any = [];\r\n  driverDataforLatter: any = [];\r\n  selectedCompanyInfo: any = {};\r\n  noData: boolean = false;\r\n  selectedLang: string = \"\";\r\n  totalListDriverData: number = 0;\r\n  currentPageNumber: number = 1;\r\n  tempCurrNumber: number = 1;\r\n  noRecordsFound: boolean = false;\r\n  disableFineRestrictionAPIData: any;\r\n\r\n  dtOptions: DataTables.Settings = {\r\n    order: [[1, 'desc']]\r\n  };\r\n  dtTrigger = new Subject();\r\n\r\n  collection = { count: this.totalListDriverData, data: [] };\r\n  config = {\r\n    itemsPerPage: 6,\r\n    currentPage: 1,\r\n    totalItems: this.totalListDriverData\r\n  };\r\n  public maxSize: number = 7;\r\n  public directionLinks: boolean = true;\r\n  public autoHide: boolean = false;\r\n  public responsive: boolean = true;\r\n\r\n  public labels: any = {\r\n    screenReaderPaginationLabel: 'Pagination',\r\n    screenReaderPageLabel: 'page',\r\n    screenReaderCurrentLabel: `You're on page`\r\n  };\r\n\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private apiCall: ApiService,\r\n    public common: CommonService,\r\n    private translate: TranslateService\r\n\r\n  ) { }\r\n\r\n  async ngOnInit() {\r\n    const body = document.getElementsByTagName('body')[0];\r\n    body.classList.remove('userLogin');\r\n    this.userLoginDetails = this.common.getValueFromSessionStorage('userLoginInfo');\r\n    this.reactiveFormName = this.formBuilder.group({\r\n      searchText: ['']\r\n    });\r\n    this.initMasterData();\r\n    this.dtOptions = {\r\n      order: [[0, 'desc']],\r\n      language: ({\r\n        \"zeroRecords\": await this.translate.get('NoDataAvailable').toPromise(),\r\n        \"search\": await this.translate.get('Search').toPromise(),\r\n        \"info\": await this.translate.get('Information').toPromise(),\r\n        \"infoFiltered\": await this.translate.get('infoFiltered').toPromise(),\r\n        \"infoEmpty\": await this.translate.get('infoEmpty').toPromise(),\r\n        \"lengthMenu\": await this.translate.get('lengthMenu').toPromise(),\r\n        \"paginate\": {\r\n          \"first\": await this.translate.get('First').toPromise(),\r\n          \"last\": await this.translate.get('Last').toPromise(),\r\n          \"next\": await this.translate.get('Next').toPromise(),\r\n          \"previous\": await this.translate.get('Previous').toPromise(),\r\n        }\r\n      }),\r\n    }\r\n\r\n  }\r\n\r\n  // Used for call All APIs\r\n  async initMasterData() {\r\n    let selectedCompanyInfo = this.common.getValueFromSessionStorage('selectedCompanyInfo');\r\n    if (selectedCompanyInfo != null) {\r\n      await this.getDriversList();\r\n      await this.getListCompanyDriverStagingList();\r\n    }\r\n    //this.showLicenseNumberValidation();\r\n    //this.addDriverValidation();\r\n    await this.onChangeOfCompany();\r\n    this.showDriverVehicleAddBtn(selectedCompanyInfo);\r\n    this.apiCall.spinner.hide();\r\n  }\r\n\r\n  public subscription: Subscription;\r\n  public ngOnDestroy(): void {\r\n    // onDestroy cancels the subscribe request\r\n    if (this.subscription) {\r\n      this.subscription.unsubscribe();\r\n    }\r\n    // Do not forget to unsubscribe the event\r\n    if (this.dtTrigger) {\r\n      this.dtTrigger.unsubscribe();\r\n    }\r\n  }\r\n\r\n  //on changing the company name\r\n  async onChangeOfCompany() {\r\n    //this.apiCall.spinner.show();\r\n    this.subscription = this.common.getContent().subscribe(async msg => {\r\n      let selectedCompanyInfo = this.common.getValueFromSessionStorage('selectedCompanyInfo');\r\n      if (selectedCompanyInfo != null) {\r\n        this.apiCall.spinner.show();\r\n        this.common.mesage = {};\r\n        this.selectedCompanyInfo = selectedCompanyInfo;\r\n        //this.showLicenseNumberValidation();\r\n        //this.addDriverValidation();\r\n        this.showDriverVehicleAddBtn(selectedCompanyInfo);\r\n        await this.getDriversList();\r\n        await this.getListCompanyDriverStagingList();\r\n        this.apiCall.spinner.hide();\r\n      }\r\n    });\r\n  }\r\n\r\n  // Used for show validation msg if company license number is 0\r\n  showLicenseNumberValidation() {\r\n    //if (this.common.showDriverVehicleAddBtnLicenseNumberValidation) {\r\n    //  this.common.showSussessFailureMessage(2, 'Please do update License Number by raising Company Update Request to proceed with Vehicle and Driver Creation', false)\r\n    //}\r\n  }\r\n\r\n  // Used for show Add Driver validation\r\n  addDriverValidation() {\r\n    //if (this.common.showDriverVehicleAddBtnPendingPaymentValidation) {\r\n    //  this.common.showSussessFailureMessage(2, 'Please Pay Pending Payment to proceed with Vehicle and Driver Creation', false)\r\n    //}\r\n\r\n    ////For UAT and production Enable this one\r\n    ////If driver belongs to franchise then the below messgae should not show & allow user to renew driver, Abhijith 03-08-2023\r\n    //if (this.common.isCompanyTypeFranchise == false) {\r\n    //  if (this.common.showDriverVehicleAddBtnPendingFineValidation) {\r\n    //    this.common.showSussessFailureMessage(2, 'Please Pay Pending Fine to proceed with Vehicle and Driver Creation', false)\r\n    //  }\r\n    //}\r\n    ////End 03-08-2023\r\n    //if (this.common.showDriverVehicleAddBtnCompanyExpireValidation) {\r\n    //  this.common.showSussessFailureMessage(2, 'Please Renew Company License to proceed with Vehicle and Driver Creation', false)\r\n    //}\r\n\r\n  }\r\n\r\n  // Used for get Drivers List\r\n  // Used for get Vehicle List\r\n  listDriverDetails: any = [];\r\n  async getDriversList() {\r\n    this.apiCall.spinner.show();\r\n    let jsonData: any = {};\r\n    let selectedCompanyInfo = this.common.getValueFromSessionStorage('selectedCompanyInfo');\r\n    let userLoginInfo = this.common.getValueFromSessionStorage('userLoginInfo');\r\n    jsonData.UserID = userLoginInfo.ID;\r\n    jsonData.CompanyID = selectedCompanyInfo.CompanyID;\r\n    jsonData.Token = userLoginInfo.Token;\r\n    jsonData.QueryCount = \"6\";\r\n    jsonData.PageNumber = this.currentPageNumber.toString();\r\n    this.noData = false;\r\n    await this.apiCall.postAPICallWithToken('api/DriverManager/getDriverList', jsonData).then(result => {\r\n      this.listDriverDetails = result.data;\r\n      this.listDriversData = result.data;\r\n      this.listDriversDataWithoutFilter = result.data;\r\n      this.totalListDriverData = result.headerResponse.totalCount;\r\n      this.config = {\r\n        itemsPerPage: 6,\r\n        currentPage: this.currentPageNumber,\r\n        totalItems: this.totalListDriverData\r\n      };\r\n      if (this.listDriversData.length == 0) {\r\n        this.noData = true;\r\n      }\r\n      this.apiCall.spinner.hide();\r\n    }).catch(error => {\r\n      console.log(\"error \", error);\r\n      this.apiCall.spinner.hide();\r\n    });\r\n  }\r\n\r\n  // Used for get Driver Un Approved List\r\n  isDtInitialized: boolean = false;\r\n  async getListCompanyDriverStagingList() {\r\n    this.apiCall.spinner.show();\r\n    let selectedCompanyInfo = this.common.getValueFromSessionStorage('selectedCompanyInfo');\r\n    let userLoginInfo = this.common.getValueFromSessionStorage('userLoginInfo');\r\n    let jsonData: any = {};\r\n    jsonData.Token = userLoginInfo.Token;\r\n    jsonData.UserID = userLoginInfo.ID;\r\n    jsonData.CompanyID = selectedCompanyInfo.CompanyID;\r\n    this.noRecordsFound = false;\r\n    await this.apiCall.postAPICallWithToken('api/DriverManager/getListCompanyDriversStaging', jsonData).then(result => {\r\n      this.companyDriverStagingList = result;\r\n      if (this.isDtInitialized) {\r\n        this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\r\n          dtInstance.destroy();\r\n          this.dtTrigger.next();\r\n        });\r\n      } else {\r\n        this.dtTrigger.next();\r\n        this.isDtInitialized = true;\r\n      }\r\n      if (this.companyDriverStagingList.length == 0) {\r\n        this.noRecordsFound = true\r\n      }\r\n      this.apiCall.spinner.hide();\r\n    }).catch(error => {\r\n      console.log(\"error \", error);\r\n      this.apiCall.spinner.hide();\r\n    });\r\n  }\r\n\r\n  // Used for navigate to Add Drivers page\r\n  navigateToAddDrivers() {\r\n    if (this.common.isCompanyTypeFranchise == false && this.common.showDriverVehicleAddBtnFineValidation) {\r\n      this.common.showSussessFailureMessage(2, 'There are Un paid fines for this company and due to this the Activity/Vehicle/Driver can not be created! Please do pay pending fines and register!', false)\r\n      return;\r\n    } else {\r\n      this.common.mesage = {};\r\n      this.router.navigateByUrl('/driver/adddriver');\r\n    }\r\n  }\r\n\r\n  //Used for navigate to driver view page\r\n  navigateToDriverViewPage(driver) {\r\n    this.common.setValueToSessionStorage('driverInfo', driver);\r\n    this.router.navigateByUrl('/driver/detaildriver');\r\n  }\r\n\r\n  // Used for navigate to UnApproved Driver update\r\n  navigateToUpdatePage(driver) {\r\n    driver.requestFrom = 'unapprovedUpdate';\r\n    this.common.setValueToSessionStorage('updateDriverInfo', driver);\r\n    this.router.navigateByUrl('/driver/adddriver');\r\n  }\r\n\r\n  //showing driver details with print option\r\n  printDriverData(driver) {\r\n    let jsonData: any = {};\r\n    jsonData.EmiratesID = driver.EmiratesID;\r\n    jsonData.MobileNumber = driver.MobilePhone;\r\n    jsonData.DriverID = driver.DriverID;//added new parameter as per the venkat comments\r\n    jsonData.DriverGuid = \"\";\r\n    this.apiCall.postAPICallWithToken('api/EnquiryManager/DriverLetter', jsonData).then(result => {\r\n      this.driverDataforLatter = result;\r\n      this.common.setValueToSessionStorage('driverDataforLatter', this.driverDataforLatter);\r\n      this.router.navigate([]).then(result => { window.open('/print/printdriverdetail', '_blank'); });\r\n    }).catch(error => {\r\n      console.log(\"error \", error);\r\n    });\r\n  }\r\n\r\n  isSearchFunction: boolean = false;\r\n  //Used For Driver List Search functionality\r\n  //onKeypressEvent(event: any) {\r\n  //  this.noData = false;\r\n  //  let searchValue = event.target.value;\r\n  //  if (searchValue && searchValue.trim() != '') {\r\n  //    this.listDriversData = this.listDriversDataWithoutFilter.filter((val) => {\r\n  //      let driver_FirstName; let driver_LastName; let driver_DriverType; let driving_License_Expiry_Date;\r\n  //      let driver_Status; let driver_Id;\r\n\r\n  //      if (val.FirstName != null) {\r\n  //        driver_FirstName = val.FirstName.toLowerCase().indexOf(searchValue.toLowerCase()) > -1;\r\n  //      }\r\n  //      if (val.LastName != null) {\r\n  //        driver_LastName = val.LastName.toLowerCase().indexOf(searchValue.toLowerCase()) > -1;\r\n  //      }\r\n  //      if (val.DriverType != null) {\r\n  //        driver_DriverType = val.DriverType.toLowerCase().indexOf(searchValue.toLowerCase()) > -1;\r\n  //      }\r\n  //      if (val.DrivingLicenseExpiryDate != null) {\r\n  //        driving_License_Expiry_Date = val.DrivingLicenseExpiryDate.toLowerCase().indexOf(searchValue.toLowerCase()) > -1;\r\n  //      }\r\n  //      if (val.Status != null) {\r\n  //        driver_Status = val.Status.toLowerCase().indexOf(searchValue.toLowerCase()) > -1;\r\n  //      }\r\n  //      if (val.DriverID != null) {\r\n  //        driver_Id = val.DriverID.toLowerCase().indexOf(searchValue.toLowerCase()) > -1;\r\n  //      }\r\n  //      return (driver_FirstName || driver_LastName || driver_DriverType || driving_License_Expiry_Date || driver_Status || driver_Id);\r\n  //    })\r\n  //    this.config.currentPage = 1;\r\n  //  } else {\r\n  //    this.listDriversData = this.listDriversDataWithoutFilter;\r\n  //    this.config.currentPage = this.tempPageNo;\r\n  //  }\r\n  //  if (this.listDriversData.length == 0) {\r\n  //    this.noData = true;\r\n  //  }\r\n  //}\r\n\r\n  // For Pagination\r\n  tempPageNo: number = 0;\r\n  onPageChange(event) {\r\n    this.config.currentPage = event;\r\n    this.currentPageNumber = event;\r\n    this.tempCurrNumber = event;\r\n    if (this.isSearchFunction) {\r\n      this.tempPageNo = this.config.currentPage;\r\n      this.tempCurrNumber = event;\r\n      this.onSearchClick();\r\n    }\r\n    else {\r\n      this.getDriversList();\r\n    }\r\n\r\n  }\r\n\r\n  onSearchClick() {\r\n    this.isSearchFunction = true;\r\n    this.noData = false;\r\n    let searchValue = this.reactiveFormName.value.searchText;\r\n    if (searchValue && searchValue.trim() != '') {\r\n      this.isSearchFunction = true;\r\n      let selectedCompanyInfo = this.common.getValueFromSessionStorage('selectedCompanyInfo');\r\n      let userLoginInfo = this.common.getValueFromSessionStorage('userLoginInfo');\r\n      let jsonData: any = {};\r\n      jsonData.Token = userLoginInfo.Token;\r\n      jsonData.UserID = userLoginInfo.ID;\r\n      jsonData.CompanyID = selectedCompanyInfo.CompanyID;\r\n      jsonData.SearchWord = searchValue;\r\n      jsonData.QueryCount = 6;\r\n      jsonData.PageNumber = this.currentPageNumber;\r\n\r\n\r\n      this.noData = false;\r\n      this.apiCall.postAPICallWithToken('api/DriverManager/SearchDriverRecords', jsonData).then(result => {\r\n        this.listDriversData = result.data;\r\n        let totalCount = result.headerResponse.totalCount;\r\n        if (this.listDriversData.length == 0 && totalCount == 0) {\r\n          this.noData = true;\r\n          this.config = {\r\n            itemsPerPage: 6,\r\n            currentPage: 1,\r\n            totalItems: 0\r\n          };\r\n        }\r\n        else {\r\n          this.noData = false;\r\n          this.config = {\r\n            itemsPerPage: 6,\r\n            currentPage: this.tempCurrNumber,\r\n            totalItems: totalCount\r\n          };\r\n\r\n\r\n        }\r\n      }).catch(error => {\r\n        console.log(\"error \", error);\r\n      });\r\n\r\n      this.config.currentPage = 1;\r\n    } else {\r\n      this.listDriversData = this.listDriversDataWithoutFilter;\r\n      this.config.currentPage = this.currentPageNumber;\r\n      this.isSearchFunction = false;\r\n      this.config = {\r\n        itemsPerPage: 6,\r\n        currentPage: this.currentPageNumber,\r\n        totalItems: this.listDriversData.headerResponse.totalCount\r\n      };\r\n    }\r\n    if (this.listDriversData.length == 0) {\r\n      this.noData = true;\r\n      this.isSearchFunction = false;\r\n    }\r\n  }\r\n\r\n  onKeypressEvent(event: any) {\r\n    //this.isSearchFunction = true;\r\n    this.noData = false;\r\n    let searchValue = event.target.value;\r\n    if (searchValue && searchValue.trim() != '') {\r\n      if (event.code == 'Enter') {\r\n        //setTimeout(() => {\r\n        //this.isSearchFunction = true;\r\n        //let selectedCompanyInfo = this.common.getValueFromSessionStorage('selectedCompanyInfo');\r\n        //let userLoginInfo = this.common.getValueFromSessionStorage('userLoginInfo');\r\n        //let jsonData: any = {};\r\n        //jsonData.Token = userLoginInfo.Token;\r\n        //jsonData.UserID = userLoginInfo.ID;\r\n        //jsonData.CompanyID = selectedCompanyInfo.CompanyID;\r\n        //jsonData.SearchWord = searchValue;\r\n        //this.noData = false;\r\n        //this.apiCall.postAPICallWithToken('api/VehicleManager/SearchVehicleRecords', jsonData).then(result => {\r\n        //  this.listVehicleData = result;\r\n        //  console.log(\"this.listVehicleData = \", this.listVehicleData);\r\n        //  console.log(\"this.listVehicleData.count = \", this.listVehicleData.length);\r\n        //  if (this.listVehicleData.length == 0) {\r\n        //    this.noData = true;\r\n        //  } else {\r\n        //    this.noData = false;\r\n        //    this.config = {\r\n        //      itemsPerPage: 6,\r\n        //      currentPage: 1,\r\n        //      totalItems: this.listVehicleData.length\r\n        //    };\r\n        //  }\r\n        //}).catch(error => {\r\n        //  console.log(\"error \", error);\r\n        //});\r\n        //}, 1000)\r\n      }\r\n\r\n      //this.config.currentPage = 1;\r\n    } else {\r\n      if (this.isSearchFunction) {\r\n        this.isSearchFunction = false;\r\n        this.onPageChange(1);\r\n        this.getDriversList();\r\n      }\r\n      else {\r\n        this.listDriversData = this.listDriversDataWithoutFilter;\r\n        //this.config.currentPage = this.currentPageNumber;\r\n        this.isSearchFunction = false;\r\n        this.config = {\r\n          itemsPerPage: 6,\r\n          currentPage: this.currentPageNumber,\r\n          totalItems: this.listDriverDetails.headerResponse.totalCount\r\n        };\r\n      }\r\n\r\n    }\r\n    //if (this.listDriversData.length == 0) {\r\n    //  this.noData = true;\r\n    //  this.isSearchFunction = false;\r\n    //}\r\n  }\r\n  async showDriverVehicleAddBtn(company) {\r\n    debugger;\r\n    // For Show/Hide add Company/Driver/Vehicle add button if  CompanyType is \"Franchise\"\r\n    this.common.showAddCompanyBtn = true;\r\n    this.common.showAddDriverBtn = true;\r\n    this.common.showAddVehicleBtn = true;\r\n    this.common.showDriverVehicleAddBtnPendingPaymentValidation = false;\r\n    this.common.showDriverVehicleAddBtnLicenseNumberValidation = false;\r\n    this.common.showDriverVehicleAddBtnFineValidation = false;\r\n    this.common.showDriverVehicleAddBtnCompanyExpireValidation = false;\r\n    if (company.CompanyType == \"Franchise\") {\r\n      this.common.isCompanyTypeFranchise = true;\r\n    }\r\n    else {\r\n      this.common.isCompanyTypeFranchise = false;\r\n    }\r\n    //added below code for disable fine restriction ,\r\n    //updated below code for diable fine restriction on 29-11-2023\r\n    if (company.PendingFines) {\r\n      debugger;\r\n      let jsonData: any = {};\r\n      jsonData.CompanyID = company.CompanyID;\r\n      await this.apiCall.postAPICallWithToken('api/EnquiryManager/DisableFineRestriction', jsonData).then(result => {\r\n        debugger;\r\n        this.disableFineRestrictionAPIData = result;\r\n        if (result.DisableFineRestrictionOutput != null) {\r\n          for (let i = 0; i < result.DisableFineRestrictionOutput.length; i++) {\r\n            var stdate = result.DisableFineRestrictionOutput[i].StartDate.split(\"-\").reverse().join(\"-\");\r\n            var eddate = result.DisableFineRestrictionOutput[i].EndDate.split(\"-\").reverse().join(\"-\");\r\n            var start = new Date(stdate);\r\n            var end = new Date(eddate);\r\n            var today = new Date();\r\n            start.setDate(start.getDate());\r\n            end.setDate(end.getDate());\r\n            start.setHours(0, 0, 0, 0);\r\n            end.setHours(0, 0, 0, 0);\r\n            today.setHours(0, 0, 0, 0);\r\n            debugger;\r\n            if (today >= start && today <= end) {//dates are between today date\r\n              this.common.disablefine = true;\r\n              break;\r\n            }\r\n            else {//dates are not bet ween today date\r\n              this.common.disablefine = false;\r\n              continue;\r\n            }\r\n          }\r\n        }\r\n        else {//dates are not there\r\n          console.log(\"Dates:\" + result.DisableFineRestrictionOutput + \"- DisableFineRestriction: \" + result.DisableFineRestriction);\r\n          this.common.disablefine = false;\r\n        }\r\n      }).catch(error => {\r\n        console.log(\"error \", error);\r\n      });\r\n      if (this.common.disablefine || this.disableFineRestrictionAPIData.DisableFineRestriction) {//disable fine restriction\r\n        this.common.isfine = true;\r\n      } else {\r\n        this.common.isfine = false;\r\n      }\r\n    }\r\n    //end\r\n    this.common.setValueToSessionStorage(\"isFine\", this.common.isfine);\r\n    //Added below section by surya\r\n    if (company.CompanyType == \"Franchise\") {\r\n      debugger;\r\n      //this.ispaybtnDis = true;\r\n      this.common.showAddCompanyBtn = false;\r\n      this.common.showLateFee = false;\r\n    }\r\n    if (company.CompanyType == 'Company') {\r\n      this.common.isCompanyTypeFranchise = false;\r\n      this.common.showAddCompanyBtn = false;\r\n      //This boolean will be used to display renewals based on company type is franchise or not Abhijith\r\n      this.common.showLateFee = true;\r\n      //End Abhijith\r\n      //added code for diabling fine restriction 30-11-2023\r\n      if (company.PendingFines) {\r\n        if (this.common.isfine) {//dates are there or flag is true\r\n          this.common.showDriverVehicleAddBtnFineValidation = false;//hide validation\r\n          this.common.showDriverVehicleAddBtnPendingFineValidation = false;\r\n          this.common.AddDriverBtn_fine = false;//show button\r\n          this.common.AddVehicleBtn_fine = false;\r\n        }\r\n        else {\r\n          this.common.showDriverVehicleAddBtnFineValidation = true;//show validation\r\n          this.common.showDriverVehicleAddBtnPendingFineValidation = true;\r\n          this.common.AddDriverBtn_fine = true;//hide button\r\n          this.common.AddVehicleBtn_fine = true;\r\n        }\r\n      }\r\n      else {\r\n        this.common.showDriverVehicleAddBtnFineValidation = false;\r\n        this.common.showDriverVehicleAddBtnPendingFineValidation = false;\r\n        this.common.AddDriverBtn_fine = false;\r\n        this.common.AddVehicleBtn_fine = false;\r\n      }//end\r\n      // For Show/Hide add Driver/Vehicle  button based on Pending payment status of selected company\r\n      if (company.PendingPayments) {\r\n        this.common.AddDriverBtn_pay = company.PendingPayments;\r\n        this.common.AddVehicleBtn_pay = company.PendingPayments;\r\n        this.common.showDriverVehicleAddBtnPendingPaymentValidation = true;\r\n      } else {\r\n        this.common.AddDriverBtn_pay = company.PendingPayments;\r\n        this.common.AddVehicleBtn_pay = company.PendingPayments;\r\n        this.common.showDriverVehicleAddBtnPendingPaymentValidation = false;\r\n      }\r\n\r\n      // For Show/Hide add Driver/Vehicle add button and alert message if Company License Number is \"0\" and als\r\n      if (company.LicenseNumber == 0) {\r\n        this.common.AddDriverBtn_license = true;\r\n        this.common.AddVehicleBtn_license = true;\r\n        this.common.showDriverVehicleAddBtnLicenseNumberValidation = true;\r\n      } else {\r\n        this.common.AddDriverBtn_license = false;\r\n        this.common.AddVehicleBtn_license = false;\r\n        this.common.showDriverVehicleAddBtnLicenseNumberValidation = false;\r\n      }\r\n\r\n      // For Show/Hide add Driver/Vehicle button based on Selected Company is expired or not\r\n      if (company.PermitExpiryDate != null && company.PermitExpiryDate != '') {\r\n        var newdate = company.PermitExpiryDate.split(\"-\").reverse().join(\"-\");\r\n        let enddate = new Date(newdate);\r\n        let today = new Date();\r\n        enddate.setDate(enddate.getDate());\r\n        if (today >= enddate) {\r\n          this.common.AddDriverBtn_company = true;\r\n          this.common.AddVehicleBtn_company = true;\r\n          this.common.showDriverVehicleAddBtnCompanyExpireValidation = true;\r\n        }\r\n        else {\r\n          this.common.AddDriverBtn_company = false;\r\n          this.common.AddVehicleBtn_company = false;\r\n          this.common.showDriverVehicleAddBtnCompanyExpireValidation = false;\r\n        }\r\n      } else {\r\n        this.common.AddDriverBtn_company = false;\r\n        this.common.AddVehicleBtn_company = false;\r\n        this.common.showDriverVehicleAddBtnCompanyExpireValidation = false;\r\n      }\r\n      //based on all conditions at final we are enabling and disabling add driver buttons\r\n      if (this.common.AddDriverBtn_fine || this.common.AddDriverBtn_pay ||\r\n        this.common.AddDriverBtn_license || this.common.AddDriverBtn_company) {\r\n        this.common.showAddDriverBtn = true;\r\n      } else {\r\n        this.common.showAddDriverBtn = false;\r\n      }\r\n      if (this.common.AddVehicleBtn_fine || this.common.AddVehicleBtn_pay ||\r\n        this.common.AddVehicleBtn_license || this.common.AddVehicleBtn_company) {\r\n        this.common.showAddVehicleBtn = true;\r\n      } else {\r\n        this.common.showAddVehicleBtn = false;\r\n      }\r\n      // Used for show License Number update validation id license number is \"0\"\r\n      /*showLicenseNumberValidation() {*/\r\n      if (this.common.showDriverVehicleAddBtnLicenseNumberValidation) {\r\n        this.common.showSussessFailureMessage(2, 'Please do update License Number by raising Company Update Request to proceed with Vehicle and Driver Creation', false)\r\n      }\r\n      //}\r\n\r\n      // Used for show Add Driver validation\r\n      //addVehicleValidation() {\r\n      if (this.common.showDriverVehicleAddBtnPendingPaymentValidation) {\r\n        this.common.showSussessFailureMessage(2, 'Please Pay Pending Payment to proceed with Vehicle and Driver Creation', false)\r\n      }\r\n\r\n      //For UAT and production Enable this one\r\n      //If driver belongs to franchise then the below messgae should not show & allow user to renew driver, Abhijith 03-08-2023\r\n      if (this.common.isCompanyTypeFranchise == false) {\r\n        if (this.common.showDriverVehicleAddBtnPendingFineValidation) {\r\n          this.common.showSussessFailureMessage(2, 'Please Pay Pending Fine to proceed with Vehicle and Driver Creation', false)\r\n        }\r\n      }\r\n      //End 03-08-2023\r\n      if (this.common.showDriverVehicleAddBtnCompanyExpireValidation) {\r\n        this.common.showSussessFailureMessage(2, 'Please Renew Company License to proceed with Vehicle and Driver Creation', false)\r\n      }\r\n      //}\r\n    }\r\n    this.common.setValueToSessionStorage(\"showAddDriverBtn\", this.common.showAddDriverBtn);\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ListdriverRoutingModule } from './listdriver-routing.module';\nimport { ListdriverComponent } from './listdriver.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgbDatepickerModule, NgbModule, NgbDateAdapter, NgbDateParserFormatter } from '@ng-bootstrap/ng-bootstrap';\nimport { GlobalheaderModule } from '../../common/globalheader/globalheader.module';\nimport { GlobalfooterModule } from '../../common/globalfooter/globalfooter.module';\nimport { DataTablesModule } from 'angular-datatables';\nimport { NgxPaginationModule } from 'ngx-pagination';\n\n\n@NgModule({\n  declarations: [ListdriverComponent],\n  imports: [\n    CommonModule,\n    ListdriverRoutingModule,\n    TranslateModule,\n    FormsModule,\n    GlobalheaderModule,\n    GlobalfooterModule,\n    DataTablesModule,\n    ReactiveFormsModule,\n    NgbDatepickerModule,\n    NgbModule,\n    NgxPaginationModule\n  ]\n})\nexport class ListdriverModule { }\n"]}